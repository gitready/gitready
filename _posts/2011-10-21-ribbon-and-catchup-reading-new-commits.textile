---
published: false
layout: post
title: "ribbon/catchup: 阅读最新提交"
category: advanced
---

p=. 特邀博文：来自 "Jo Liss":http://www.solitr.com/.

从 "Moro's blog":http://d.hatena.ne.jp/moro/20110719/131104833 找到了用 Git 做新闻抓取器 (feed-reader) 的方法，分享一下：

假设你想跟踪一个项目--比如你参与的上游仓库 (upstream repository)，一个值得你学习的优秀开发者，或是你想关注的很棒的代码库。如何得到最新提交的通知？

你可以使用 Github 提供的 RSS：

p=. !/images/github-feed.png!

但其实我们更愿意在终端 (Shell) 中阅读提交 (submit) 和差别 (diff)。(作为奖励，不会有暴走漫画，小猫的图片等等其它分散我们注意力的东西在我们的 RSS 里)。

我们可以使用 Git 日志 (@git log@) 显示最新提交，并利用 Git "轻量级标签系统":http://book.git-scm.com/3_git_tag.html 用一个类似于”书签条 (ribbon)”的标记，标注我们已读的消息，

p=. !/images/ribbon-marker.jpg(A real-life ribbon
marker)!:http://www.flickr.com/photos/beth19/4288525214/ <!-- photo CC BY-NC-ND 2.0 on Aug 20, 2011 -->

在你的 @~/.gitconfig@ 加入下面的代码：

<pre>
[alias]
    ribbon = tag --force _ribbon origin/master
    catchup = log --patch --reverse --topo-order _ribbon..origin/master
</pre>

复制 (clone) 你关注的项目，输入 @git ribbon@ 初始化书签。

现在，当你获取 (fetch, pull) 项目更新时，用 @git catchup@ 察看 @origin/master@ 最新改动。看完后，输入 @git ribbon@ 更新书签。

很方便，对吧？

顺便说一下，如果你不想看汇入 @origin/master@ 中其它主题分支 ("topic branch":http://stackoverflow.com/questions/284514/what-is-a-git-topic-branch) 的提交细节，在 @catchup@ 日志命令中加入 @--first-parent -m@。

p(((. <i>Jo Liss "Rails博客":http://www.solitr.com/blog/ 和选举系统 "VSO":http://www.votingsoftware.org/. </i>
